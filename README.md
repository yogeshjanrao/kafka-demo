# kafka-demo

This repository demonstrates Kafka message broker functionality using Node.js. It includes scripts for administering Kafka, producing messages, and consuming messages.


## Prerequisites

1. **Node.js and npm/yarn**: Ensure Node.js and npm or Yarn are installed on your system.
   - Install Node.js from [nodejs.org](https://nodejs.org/).
   - Install Yarn by following the instructions at [yarnpkg.com](https://yarnpkg.com/).

2. **Docker**: Ensure Docker is installed and running on your system.
   - Install Docker from [docker.com](https://www.docker.com/).

3. **Kafka Client Configuration**:
   - Replace `<PRIVATE-IP>` in `client.js` with your local private IP address.


## Files in This Repository

- [`client.js`](https://github.com/yogeshjanrao/kafka-demo/blob/master/client.js): Setup for Kafka client.
    - **Purpose:** Sets up a Kafka client.
    - **Functionality:** Establishes a connection to the Kafka broker using the kafkajs     
                         library. The client configuration includes a client ID and the broker's address, which should be replaced with your local private IP address.

- [`admin.js`](https://github.com/yogeshjanrao/kafka-demo/blob/master/admin.js): Script for Kafka administration tasks.
    - **Purpose:** Manages Kafka administration tasks.
    - **Functionality:** Utilizes the Kafka client to perform various administrative 
                         operations such as creating, deleting, or listing topics within the Kafka broker.

- [`producer.js`](https://github.com/yogeshjanrao/kafka-demo/blob/master/producer.js): Script for producing messages to Kafka.
    - **Purpose:** Produces messages to Kafka topics.
    - **Functionality:** Connects to the Kafka broker and sends messages to a specified 
                         topic. This script handles the message creation and transmission process.

- [`consumer.js`](https://github.com/yogeshjanrao/kafka-demo/blob/master/consumer.js): Script for consuming messages from Kafka.
    - **Purpose:** Consumes messages from Kafka topics.
    - **Functionality:** Connects to the Kafka broker and reads messages from a specified 
                         topic. It processes the incoming messages as per the defined logic.

- [`package.json`](https://github.com/yogeshjanrao/kafka-demo/blob/master/package.json): Dependency configurations.
    - **Purpose:** Configuration for project dependencies and scripts.
    - **Functionality:** Lists all the dependencies required for running the Kafka client, 
                         producer, and consumer scripts. It also includes scripts for running the application.


- [`yarn.lock`](https://github.com/yogeshjanrao/kafka-demo/blob/master/yarn.lock): Lock file for Yarn dependencies.
    - **Purpose:** Ensures consistent dependency versions.
    - **Functionality:** Lock file generated by Yarn to lock the versions of dependencies, 
                         ensuring that the same versions are installed across different environments.


## Setup and Run the Application

1. **Start Zookeeper Container and expose PORT 2181:**
   ```bash
   docker run -p 2181:2181 zookeeper 

2. **Start Kafka Container, expose PORT 9092 and setup ENV variables.**
   ```bash
   docker run -p 9092:9092 \
   -e KAFKA_ZOOKEEPER_CONNECT=<PRIVATE_IP>:2181 \
   -e KAFKA_ADVERTISED_LISTENERS=PLAINTEXT://<PRIVATE-IP>:9092 \
   -e KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR=1 \
    confluentinc/cp-kafka

3. **Run [`admin.js`](https://github.com/yogeshjanrao/kafka-demo/blob/master/admin.js) to   setup admin**
   ```bash
   node admin.js
4. **Run [`producer.js`](https://github.com/yogeshjanrao/kafka-demo/blob/master/producer.js) to produce message on topic 'riders-updates'**
   ```bash
   node producer.js 

    While running producer.js, you need to provide input for rider name and location. For example:
        Rider Name: yogesh
        Location: pune
    Enter the above information in the terminal as yogesh pune to create a message for the consumer.

5. **Run [`consumer.js`](https://github.com/yogeshjanrao/kafka-demo/blob/master/consumer.js) to consume topic messages on consumer group**
   ```bash
   node consumer.js <consumer-groupId>

    While running consumer.js, you need to provide input for consumer group. For example:
        user-1 is consumer group 

This `README.md` includes the detailed instructions and necessary steps for setting up and running the Kafka demo application.